<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xml:lang="en">
<head>

    <link id="theme" rel="stylesheet" type="text/css" href="../../kodify/themes/cheery.css" />
    <link id="theme" rel="stylesheet" type="text/css" href="../../style.css" />

    <script type="text/javascript" src="../../kodify/js/lx_analyzer.js"></script>
    <script type="text/javascript" src="../../kodify/js/kodify.js"></script>
    <script type="text/javascript" src="../kodify/js/lang/js.js"></script>

    <script type="text/javascript" src="../../kodify/js/lang/php.js"></script>
    <script type="text/javascript" src="../../kodify/js/lang/html.js"></script>
    <script type="text/javascript" src="../../kodify/js/lang/css.js"></script>

</head>
<body>

<h1>Fitment Notes - Product Template</h1>

<a name="product_template"></a>
<h2>Product Template</h2>
    Use this in the product details template (template/catalog/product/view.phtml of your active theme). <br />

    <pre class="kodify php">
 &lt;!-- begin fitment notes --&gt;
&lt;?php
$noteFinder = new Elite_Vafnote_Model_Finder();
$vehicle = Elite_Vaf_Singleton::getInstance()->vehicleSelection()->getFirstVehicle();

if( null == $vehicle )
{
    echo 'Select a vehicle to view fitment notes';
}
else if( $_product->isUniversal() )
{
    echo 'Product is universal and has no fitment notes';
}
else
{
    $mapping_id = $_product->getMappingId( $vehicle );   
    $notes = $noteFinder->getNotes( $mapping_id );
    
    foreach( $notes as $note )
    {
        echo $note->message . ' <br />';
    }
    
    if( !count($notes))
    {
        echo 'There are no notes for your vehicle (' . $vehicle->__toString() . ')';
    }
}
?&gt;
&lt;!-- end fitment notes --&gt;
    </pre>

[1]  (the one with year/make/models *and* skus)  
</body></html>